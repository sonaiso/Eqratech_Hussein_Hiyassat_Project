import pandas as pd
from engines.base import BaseReconstructionEngine, EngineLayer
from reconstruction_utils import reconstruct_from_base_df


class MabniMajhoolEngine(BaseReconstructionEngine):
    SHEET_NAME = 'المبني_للمجهول'
    LAYER = EngineLayer.MORPHOLOGY
    GROUP = "2.1"
    SUBGROUP = "2.1.2"
    GROUP_AR = "صرف الأفعال"
    SUBGROUP_AR = "المبني للمجهول"

    @classmethod
    def make_df(cls):
        rows = [
            {"الأداة": "كُتِبَ", "القالب/التركيب": "فعل ماض مبني للمجهول", "الفونيمات": "ك ت ب", "الحركات": "", "شرط/سياق": "مجهول الفاعل", "الوظيفة النحوية": "فعل ماض", "الوظيفة الدلالية": "حدث وقع على المفعول", "الوظيفة الصرفية": "صيغة مجهول", "الوظيفة الصوتية": "ضم الأول وكسر ما قبل الآخر", "الوظيفة الاشتقاقية": "ك ت ب", "ملاحظات": "صيغة قياسية"},
            {"الأداة": "يُكْتَبُ", "القالب/التركيب": "مضارع مبني للمجهول", "الفونيمات": "ي ك ت ب", "الحركات": "", "شرط/سياق": "مجهول الفاعل", "الوظيفة النحوية": "فعل مضارع", "الوظيفة الدلالية": "استمرار الحدث", "الوظيفة الصرفية": "صيغة مجهول", "الوظيفة الصوتية": "ضم الأول وفتح ما قبل الآخر", "الوظيفة الاشتقاقية": "ك ت ب", "ملاحظات": ""},
            {"الأداة": "مَكْتُوب", "القالب/التركيب": "اسم مفعول", "الفونيمات": "م ك ت و ب", "الحركات": "", "شرط/سياق": "دال على المفعول", "الوظيفة النحوية": "اسم", "الوظيفة الدلالية": "وصف نتيجة الحدث", "الوظيفة الصرفية": "اسم مفعول", "الوظيفة الصوتية": "واو مد", "الوظيفة الاشتقاقية": "ك ت ب", "ملاحظات": ""}
        ]
        return reconstruct_from_base_df(pd.DataFrame(rows))
