from base_reconstruction_engine import BaseReconstructionEngine
import pandas as pd


class QasrEngine(BaseReconstructionEngine):
    SHEET_NAME = 'القصر'

    @classmethod
    def _base_specs(cls):
        return [
            # إنما: أداة قصر بالتوكيد (إن + ما الكافة)
            {"الأداة": "إِنَّمَا", "القالب/التركيب": "إن + ما الكافة", "الفونيمات": "إ ن م ا", "الحركات": "كسرة شدة فتحة", "شرط/سياق": "قصر صفة على موصوف أو العكس", "الوظيفة النحوية": "أداة مركبة", "الوظيفة الدلالية": "قصر وتوكيد", "الوظيفة الصرفية": "مركب مزجي", "الوظيفة الصوتية": "إدغام النون مع الغنة", "الوظيفة الاشتقاقية": "أ ن ن / م م", "ملاحظات": ""},
            # النفي + إلا: تركيب يفيد القصر بطريق الاستثناء
            {"الأداة": "النَّفْيُ وَالِاسْتِثْنَاءُ (ما/لا/ليس … إِلَّا)", "القالب/التركيب": "نفي + إلا + مستثنى", "الفونيمات": "", "الحركات": "", "شرط/سياق": "تقدّم أداة نفي صريحة", "الوظيفة النحوية": "تركيب", "الوظيفة الدلالية": "قصر بطريق الاستثناء", "الوظيفة الصرفية": "تركيب", "الوظيفة الصوتية": "همزة قطع في إلا", "الوظيفة الاشتقاقية": "ن ف ي / أ ل و", "ملاحظات": "حصر حقيقي أو إضافي حسب السياق"},
            # غير: اسم يفيد الإخراج (أداة استثناء في باب القصر)
            {"الأداة": "غَيْرُ", "القالب/التركيب": "غير + مضاف إليه", "الفونيمات": "غ ي ر", "الحركات": "فتحة سكون فتحة", "شرط/سياق": "بعد نفي أو سياق حصر", "الوظيفة النحوية": "اسم استثناء مضاف", "الوظيفة الدلالية": "إخراج وقصر", "الوظيفة الصرفية": "اسم جامد", "الوظيفة الصوتية": "غين مفتوحة ثم ياء ساكنة", "الوظيفة الاشتقاقية": "غ ي ر", "ملاحظات": "إعرابها حسب موقعها"},
            # سوى: مثل غير في العمل (غالباً بعد نفي)
            {"الأداة": "سِوَى", "القالب/التركيب": "سوى + مضاف إليه", "الفونيمات": "س و ى", "الحركات": "كسرة فتحة", "شرط/سياق": "غالباً بعد نفي", "الوظيفة النحوية": "اسم استثناء", "الوظيفة الدلالية": "قصر وإخراج", "الوظيفة الصرفية": "اسم", "الوظيفة الصوتية": "واو بعدها ألف مقصورة (ياء غير منقوطة)", "الوظيفة الاشتقاقية": "س و ي", "ملاحظات": "تلزم الإضافة"},
            # التقديم: وسيلة قصر معنوي إذا كان بدون قرينة لفظية أخرى
            {"الأداة": "تَقْدِيمُ مَا حَقُّهُ التَّأْخِيرُ", "القالب/التركيب": "تقديم عنصر (مفعول/خبر)", "الفونيمات": "", "الحركات": "", "شرط/سياق": "وجود مقتضٍ بلاغي للقصر", "الوظيفة النحوية": "أسلوب", "الوظيفة الدلالية": "قصر معنوي", "الوظيفة الصرفية": "تركيب", "الوظيفة الصوتية": "تضعيف القاف", "الوظيفة الاشتقاقية": "ق د م", "ملاحظات": "يدخل ضمن وسائل القصر المعنوي"},
        ]
